<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>스크롤트리거 연습</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.2/reset.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/static/pretendard.min.css">
  <style>
    section {height: 100vh;}
    section h2 {text-align: center;font-size: 40px;font-weight: 600;margin: 50px 0 130px;}
    #home {background: url(../img/bg.jpg) center;background-size: cover;}
    #skill  {}
    .skill_wrap {
      width: 70%;margin: auto;
    }
    .skill_wrap dl {
      display: flex;flex-wrap: wrap;row-gap: 20px;
      border: 1px solid #000;
    }
    .skill_wrap dl > * {box-sizing: border-box;}
    .skill_wrap dt {
      display: flex;justify-content: flex-end;align-items: center;
      width: 10%;height: 40px;padding-right: 16px;
      font-size: 22px;font-weight: 700;
    }
    .skill_wrap dd {width: 90%;height: 40px;}
    .skill_wrap .bar {height: 34px;margin: 3px 0;width: 10px;}
    .skill_wrap .psd .bar {background: blue;}
    .skill_wrap .ai .bar {background: orange;}
    .skill_wrap .html .bar {background: orangered;}
    .skill_wrap .css .bar {background: dodgerblue;}
  </style>
</head>
<body>
  <div id="wrap">
    <section id="home"></section>
    <section id="about"></section>
    <section id="skill">
      <h2>SKILLS</h2>
      <div class="skill_wrap">
        <dl>
          <dt>PSD</dt>
          <dd class="psd">
            <div class="bar" data-skill-value="90"></div>
          </dd>
          <dt>AI</dt>
          <dd class="ai">
            <div class="bar" data-skill-value="80"></div>
          </dd>
          <dt>HTML</dt>
          <dd class="html">
            <div class="bar" data-skill-value="100"></div>
          </dd>
          <dt>CSS</dt>
          <dd class="css">
            <div class="bar" data-skill-value="95"></div>
          </dd>
        </dl>
      </div>
    </section>
    <section id="work"></section>
    <section id="study"></section>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>

  <script>
    const skillBar = document.querySelectorAll('#skill .bar')

    let v = []
    // skillBar.style.width = '80%'
    skillBar.forEach(function(bar) {
      let value = bar.getAttribute('data-skill-value');
      // bar.style.width = `${value}%`

      gsap.to(bar, {
        scrollTrigger: {
          trigger: '.skill_wrap',
          start: 'top 70%',
          end: 'bottom 30%',
          toggleActions: 'play reverse play reverse',
          markers: {
            startColor: 'red',
            endColor: 'blue',
            fontWeight: 'bold',
          },
        },
        width: `${value}%`,
      })
    })

    //bar 설정

  </script>
</body>
</html>