<!DOCTYPE html>
<html lang="ko">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>연습4</title>

         <!-- CSS -->
         <!-- CSS -->
      <style>
         body, ul, li {list-style: none;margin: 0;padding: 0;}
         header {position: fixed;left: 0;right: 0;top: 0;}
         nav {
            display: grid;grid-template-columns: repeat(5, 1fr);gap: 1px;
            /* position: sticky;top: 0; */
            background: #fff;
         }
         nav a {
            padding: 20px 0;text-align: center;font-size: 22px;
            text-decoration: none;color: inherit;text-transform: uppercase;
            background: silver;
         }
         nav .active {background: #000;color: #fff;}
         section {height: 100vh;min-height: 600px;}
         section h2 {margin: 0;padding-top: 500px;text-align: center;font-size: 40px;}
         .sec1 {background: salmon;}
         .sec2 {background: lightpink;}
         .sec3 {background: lightcoral;}
         .sec4 {background: lightsalmon}
         .sec5 {background: coral;}
      </style>

         <!-- JS -->
         <!-- JS -->
      
   <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
   <script>
      $(document).ready(function() {

            // DOM -> offset().top
            // scroll -> scrollTop

         /* sticky */
            // let navTop = $('nav').offset().top
            // let winTop;

            // $(window).scroll(function() {
            //    winTop = $(window).scrollTop();

            //       // nav.
            //    if(winTop >= navTop) {
            //       $('nav').css({'position':'fixed', 
            //       'left': 0, 'top': 0, 'right': 0})
            //    // $('nav').css()
            //    } else {
            //       $('nav').css({'position':'static'})
            //       }

            //          // nav active
            //    for(let i = 0; i < 5; i++) {
            //       if(winTop >= $(`.sec${i + 1}`).offset().top) {
            //          $('nav a').removeClass('active')
            //          $('nav a').eq(i).addClass('active')
            //       } else { 
            //          }
            //    } 

            // })

               // nav a -> click
            $('nav a').click(function() {
               $('nav a').not(this).removeClass('active')
               $(this).addClass('active')

               let n = $(this).index()
            });

            // 마우스휠 이벤트

      
            $('section').each(function() {
               $(this).on('mousewheel DOMMouseScroll', function(e) {
               let delta = e.originalEvent.deltaY;
               let moveTop = 0;

               if(delta > 0) { // down
                  moveTop = $(this).next().offset().top
                  
               } else { //up 
                  moveTop = $(this).prev().offset().top
               }
               console.log(moveTop);
               
               $('html').stop().animate({
                  scrollTop :moveTop + 'px'
               }), 300
            }) // wheel()
            })

      }) // ready
   </script>

</head>
<body>

   <div id="wrap">
      <header>
         <nav>
            <a href="#" class="active">sec-1</a>
            <a href="#">sec-2</a>
            <a href="#">sec-3</a>
            <a href="#">sec-4</a>
            <a href="#">sec-5</a>
         </nav>
      </header>
      <section class="sec1">
         <h2>Section - 1</h2>
      </section>
      <section class="sec2">
         <h2>Section - 2</h2>
      </section>
      <section class="sec3">
         <h2>Section - 3</h2>
      </section>
      <section class="sec4">
         <h2>Section - 4</h2>
      </section>
      <section class="sec5">
         <h2>Section - 5</h2>
      </section>
   </div>
   

</body>
</html>
