<!DOCTYPE html>
<html lang="ko">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>객체 메소드 연습</title>
   <script>
      window.addEventListener('DOMContentLoaded', function() {
         // $('.btn_member').append('<li>list</list>')
         
            // 변수를 구부하기 위해 $를 붙이기도 함
      /* submit btn - btnSubmit */
      const btnSubmit = document.querySelector('.btn_submit'); 
      /* ul - .list_member */
      const memberList = document.querySelector('.list_member'); 
      /* input - input_name */
      const inputName = document.querySelector('.input_name'); 
      const inputAge = document.querySelector('.input_age'); 

      const members = [];
      const member = {
         id: 1,
         name: 'Guest',
         age: 'unknown',
         addMember: function(mName, mAge) {
            if(mName === '') mName = this.name
            if(mAge === '') mAge = this.age
            members.push({id: this.id, name: mName, age: mAge})
            this.id++
         }
      }

         btnSubmit.addEventListener('click', function() {
            
            // input 의 value 
            const addName = inputName.value
            const addAge = inputAge.value

            member.addMember(addName, addAge)
            
            const lastMember = members[members.length - 1]

            /* 배열 데이터로 li 추가*/
            const memberItem = document.createElement('li') // li 요소 생성
            // const mNameText = document.createTextNode(lastMember.name) // 텍스트 작성
            // const mAgeText = document.createTextNode(lastMember.age) // 텍스트 작성
            
            // ul 자손으로 추가
            memberList.appendChild(memberItem);
            // li에 인풋 텍스트 추가
            // memberItem.appendChild(mNameText, mAgeText);
            memberItem.innerHTML = 
            `<strong>이름</strong> : ${lastMember.name} 
            <strong>나이</strong> : ${lastMember.age}`
            
            inputName.value = '';
            inputAge.value = '';
            inputName.focus();

            console.log(lastMember);
         }) // button.click()


         


         const btnLogin = document.querySelector('.btn_login');
         const uId = document.querySelector('.uid');
         const uPw = document.querySelector('.upw');
         const msg = document.querySelector('.message');

         // const welcomeTxt = document.createTextNode('관리자님 환영합니다');
         // const alertTxt = document.createTextNode('아이디와 패스워드를 확인하세요');
         
         const admin = {
            adminId: 'admin0',
            adminPw: '1234',
            greeting: function(id, pw) {
               
               if(id === this.adminId && pw === this.adminPw) {
                  adminId = '관리자님 환영합니다'
                  } else { adminId = '아이디와 패스워드를 확인하세요'}
               }
                // 아이디와 비밀번호를 체크해서 둘다 맞으면 환영 메시지
               // 그렇지 않으면 경고 메시지
            }
            /* setPw: function() {
               // 비밀번호를 000으로 입력하면
            } */
         
         
         btnLogin.addEventListener('click', function() {
            const inputId = uId.value;
            const inputPw = uPw.value;
            
            console.log(admin);
            
            admin.greeting(inputId, inputPw)
            
               // inputId = '';
               // inputPw = '';
               // inputId.focus()
            })
      }) 
   </script>
</head>
<body>

   <h1>객체 메소드 연습</h1>
   <!-- 
      * 객체 메소드를 이용
      1. inpout에 입력 받음 -> vaule 
      2. 버튼을 클릭하면
      2-1. 입력값은 배열에 데이터를 추가(push)
      2-2. 배열의 값을 리스트의 li를 추가
   -->
   <h2>회원 등록</h2>
   <label>이름 : <input type="text" class="input_name"></label>
   <label>나이 : <input type="number" class="input_age"></label>
   <button class="btn_submit">등록</button>
   <h2>회원 리스트</h2>
   <ul class="list_member"></ul>
   <!-- 이름과 나이 출력 
      1. <li><strong>이름</strong><span>data</span>
      2. <tr><td class='name'></td></tr>
      3. <dt></dt><dd></dd>
   -->

   <hr>
   <h2>관리자 로그인</h2>
   <label>ID <input type="text" class="uid"></label> 
   <label>PW <input type="password" class="upw"></label>
   <button class="btn_login">Login</button>
   <p calss="message"> 
      <!-- 관리자님 환영합니다 || 아이디와 패스워드를 확인하세요 -->
   </p>
   
</body>
</html>